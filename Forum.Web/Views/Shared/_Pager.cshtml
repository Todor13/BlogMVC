@model Forum.Web.Models.Common.PagingViewModel

@if (Model.PagesCount > 1)
{
    <center>
        <nav>
            <div class="pagination">
                @if (Model.CurrentPage > 1)
                {
                    @Html.ActionLink("Prev", "Index", Model.ControllerName, new { query = Request.QueryString["query"], page = Model.CurrentPage - 1 }, new { @class = "btn btn-default" })
                }
                    @for(var i = (Model.CurrentPage - 3 >= 1 ? Model.CurrentPage - 3 : 1); i <= (Model.CurrentPage + 3 <= Model.PagesCount ? Model.CurrentPage + 3 : Model.PagesCount); i++)
                {
                        if (Model.CurrentPage == i)
                        {
                            @Html.ActionLink($"{i}", "Index", Model.ControllerName, new { query = Request.QueryString["query"], page = i }, new { @class = "btn btn-default disabled" })
                        }
                        else
                        {
                            @Html.ActionLink($"{i}", "Index", Model.ControllerName, new { query = Request.QueryString["query"], page = i }, new { @class = "btn btn-default" })
                        }
                    }
                    @if(Model.CurrentPage < Model.PagesCount)
                {
                    @Html.ActionLink("Next", "Index", Model.ControllerName, new { query = Request.QueryString["query"], page = Model.CurrentPage + 1 }, new { @class = "btn btn-default" })
                }
            </div>
        </nav>
    </center>
}
